(this.webpackJsonpapp1=this.webpackJsonpapp1||[]).push([[0],{35:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a(1),n=a.n(c),i=a(20),l=a.n(i),r=(a(29),a(18)),o=a(10),d=a(11),j=a(13),h=a(12),m=a(21),b=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,c=t.type,n=t.checked,i=t.value,l="checkbox"===c?n:i;s.setState(Object(m.a)({},a,l))},s.handleSubmit=function(e){e.preventDefault();var t=s.state.image.match(/[a-zA-Z0-9-_]+\.(jpg|png)/)[0],a={marque:s.state.marque,modele:s.state.modele,pays:s.state.pays,prix:s.state.prix,image:t,disponible:s.state.disponible};s.props.getVoiture(a),s.setState(s.initState)},s.initState={marque:"",modele:"",pays:"",image:"",prix:0,disponible:!1},s.state=s.initState,s}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.marque,a=e.modele,c=e.pays,n=e.prix,i=e.disponible;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-6 offset-3",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header text-center",children:" Formulaire d'ajout"}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsxs)("form",{className:"row g-3 needs-validation",onSubmit:this.handleSubmit,children:[Object(s.jsxs)("div",{className:"col-md-6",children:[Object(s.jsx)("label",{htmlFor:"marque",className:"form-label",children:"Marque"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"marque",name:"marque",value:t,onChange:this.handleChange,placeholder:"Entrer la marque"})]}),Object(s.jsxs)("div",{className:"col-md-6",children:[Object(s.jsx)("label",{htmlFor:"modele",className:"form-label",children:"Modele"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"modele",name:"modele",value:a,onChange:this.handleChange,placeholder:"Entrer le mod\xe8le"})]}),Object(s.jsxs)("div",{className:"col-md-6",children:[Object(s.jsx)("label",{htmlFor:"pays",className:"form-label",children:"Pays"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"pays",name:"pays",value:c,onChange:this.handleChange,placeholder:"Entrer le pays"})]}),Object(s.jsxs)("div",{className:"col-md-6",children:[Object(s.jsx)("label",{htmlFor:"prix",className:"form-label",children:"Prix"}),Object(s.jsx)("input",{type:"number",className:"form-control",id:"prix",value:n,onChange:this.handleChange,name:"prix",placeholder:"Entrer le prix"})]}),Object(s.jsxs)("div",{className:"col-md-12",children:[Object(s.jsx)("label",{htmlFor:"prix",className:"form-label",children:"Image"}),Object(s.jsx)("input",{type:"file",className:"form-control",id:"image",onChange:this.handleChange,name:"image"})]}),Object(s.jsx)("div",{className:"col-12",children:Object(s.jsxs)("div",{className:"form-check",children:[Object(s.jsx)("input",{className:"form-check-input",type:"checkbox",id:"disponible",onChange:this.handleChange,name:"disponible",checked:i}),Object(s.jsx)("label",{className:"form-check-label",htmlFor:"disponible",children:"Disponible"})]})}),Object(s.jsx)("div",{className:"col-12",children:Object(s.jsx)("button",{className:"btn btn-primary col-12",type:"submit",children:"Soumettre"})})]})})]})})})})}}]),a}(c.Component),x=a(9),u=function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("table",{className:"table table-striped text-center",children:[Object(s.jsx)("thead",{className:"table-dark",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Id"}),Object(s.jsx)("th",{children:"Marque"}),Object(s.jsx)("th",{children:"Modele"}),Object(s.jsx)("th",{children:"Pays"}),Object(s.jsx)("th",{children:"Image"}),Object(s.jsx)("th",{children:"Prix"}),Object(s.jsx)("th",{children:"Disponible"}),Object(s.jsx)("th",{colSpan:"2",children:"Actions"})]})}),Object(s.jsx)("tbody",{children:e.lines.map((function(t,a){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:t.id}),Object(s.jsx)("td",{children:t.marque}),Object(s.jsx)("td",{children:t.modele}),Object(s.jsx)("td",{children:t.pays}),Object(s.jsx)("td",{children:Object(s.jsx)("img",{src:"images/".concat(t.image),alt:"",width:"80"})}),Object(s.jsx)("td",{children:t.prix}),Object(s.jsx)("td",{children:t.disponible?Object(s.jsx)(x.b,{className:"text-success",size:"24"}):Object(s.jsx)(x.c,{className:"text-warning",size:"24"})}),Object(s.jsx)("td",{children:Object(s.jsx)("button",{onClick:function(){e.handleEdit(a)},className:"btn btn-success",children:Object(s.jsx)(x.a,{})})}),Object(s.jsx)("td",{children:Object(s.jsx)("button",{onClick:function(){window.confirm("Etes vous s\xfbr de supprimer cette voiture")?e.handleDelete(a):console.log("annuler")},className:"btn btn-danger",children:Object(s.jsx)(x.d,{})})})]},a)}))})]})})},p=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).handleRemove=function(e){console.log(e);var t=Object(r.a)(s.state.voitures).filter((function(t,a){return a!==e}));console.log(t),s.setState({voitures:t},(function(){console.log(s.state)}))},s.handleShow=function(e){s.setState({editForm:!0})},s.handleCar=function(e){e.id=s.state.voitures[s.state.voitures.length-1].id+1;var t=[].concat(Object(r.a)(s.state.voitures),[e]);s.setState({voitures:t}),console.log(e)},s.handleItem=function(e){var t=s.state.voitures[e];s.setState({editAuto:t}),console.log(e)},s.state={voitures:[{id:1,marque:"Peugeot",modele:"208",pays:"France",image:"208.jpg",prix:5e3,disponible:!0},{id:2,marque:"Renault",modele:"Clio4",pays:"France",image:"clio4.jpg",prix:2500,disponible:!1},{id:3,marque:"Tesla",modele:"X",pays:"Usa",image:"x.jpg",prix:95e3,disponible:!1},{id:4,marque:"Bmw",modele:"M5",pays:"Allemagne",image:"m5.jpg",prix:149e3,disponible:!0}],editForm:!1,editAuto:{id:-1,marque:"",modele:"",pays:"",image:"",prix:0,disponible:!1}},s}return Object(d.a)(a,[{key:"render",value:function(){return console.log(this.state.editAuto),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{className:"bg-secondary text-white text-center",children:"Administration"}),Object(s.jsx)("button",{onClick:this.handleShow,className:"btn btn-warning offset-11",children:"Ajouter"}),this.state.editForm?Object(s.jsx)(b,{getVoiture:this.handleCar}):Object(s.jsx)(u,{lines:this.state.voitures,handleDelete:this.handleRemove,handleEdit:this.handleItem})]})}}]),a}(c.Component),O=a(22),g=a(2),v=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(O.a,{children:[Object(s.jsx)("nav",{}),Object(s.jsx)(g.c,{children:Object(s.jsx)(g.a,{path:"/admin123/add",component:b,exact:!0})})]})})};var f=function(){return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(v,{}),Object(s.jsx)(p,{})]})};l.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(f,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.610af840.chunk.js.map